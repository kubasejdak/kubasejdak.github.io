
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Personal website of Kuba Sejdak">
      
      
      
        <link rel="canonical" href="https://kubasejdak.github.io/blog/19-reasons-why-cmake-is-actually-awesome/">
      
      
        <link rel="prev" href="../variadic-functions--part-3-techniques-of-variadic-templates/">
      
      
        <link rel="next" href="../modern-cmake-is-like-inheritance/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>19 reasons why CMake is actually awesome - kubasejdak.com</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="19 reasons why CMake is actually awesome - kubasejdak.com" >
      
        <meta  property="og:description"  content="Personal website of Kuba Sejdak" >
      
        <meta  property="og:image"  content="https://kubasejdak.github.io/assets/images/social/blog/posts/19-reasons-why-cmake-is-actually-awesome.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://kubasejdak.github.io/blog/19-reasons-why-cmake-is-actually-awesome/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="19 reasons why CMake is actually awesome - kubasejdak.com" >
      
        <meta  name="twitter:description"  content="Personal website of Kuba Sejdak" >
      
        <meta  name="twitter:image"  content="https://kubasejdak.github.io/assets/images/social/blog/posts/19-reasons-why-cmake-is-actually-awesome.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#19-reasons-why-cmake-is-actually-awesome" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="kubasejdak.com" class="md-header__button md-logo" aria-label="kubasejdak.com" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            kubasejdak.com
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              19 reasons why CMake is actually awesome
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="red"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="teal"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/kubasejdak-org" class="md-tabs__link">
        
  
  
    
  
  Projects

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../services/" class="md-tabs__link">
        
  
  
    
  
  Services

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        
  
  
    
  
  About Me

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../tags/" class="md-tabs__link">
        
  
  
    
  
  Tags

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="kubasejdak.com" class="md-nav__button md-logo" aria-label="kubasejdak.com" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    kubasejdak.com
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../archive/2021/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../archive/2020/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2020
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../archive/2019/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2019
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../archive/2018/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2018
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../category/c/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../category/personal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Personal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../category/tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/kubasejdak-org" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Projects
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About Me
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-cmake-is-cross-platform" class="md-nav__link">
    <span class="md-ellipsis">
      1. CMake is cross-platform
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-cmake-supports-multiple-ides-and-build-frameworks" class="md-nav__link">
    <span class="md-ellipsis">
      2. CMake supports multiple IDE’s and build frameworks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-cmake-allows-easy-external-project-download-and-incorporation" class="md-nav__link">
    <span class="md-ellipsis">
      4. CMake allows easy external project download and incorporation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-cmake-supports-cross-compilation-like-a-champ" class="md-nav__link">
    <span class="md-ellipsis">
      5. CMake supports cross-compilation like a champ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-cmake-makes-it-easy-to-handle-include-paths" class="md-nav__link">
    <span class="md-ellipsis">
      6. CMake makes it easy to handle include paths
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-cmake-makes-it-easy-to-handle-compilation-linking-and-preprocessor-flags" class="md-nav__link">
    <span class="md-ellipsis">
      7. CMake makes it easy to handle compilation, linking and preprocessor flags
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-cmake-is-supported-by-all-major-c-package-managers" class="md-nav__link">
    <span class="md-ellipsis">
      8. CMake is supported by all major C++ package managers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-cmake-is-backward-compatible" class="md-nav__link">
    <span class="md-ellipsis">
      9. CMake is backward compatible
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-cmake-is-supported-by-many-ides" class="md-nav__link">
    <span class="md-ellipsis">
      10. CMake is supported by many IDEs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-cmake-allows-basic-file-manipulation" class="md-nav__link">
    <span class="md-ellipsis">
      11. CMake allows basic file manipulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-cmake-offers-similar-functionality-as-system-shell" class="md-nav__link">
    <span class="md-ellipsis">
      12. CMake offers similar functionality as system shell
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-cmake-can-be-launched-with-gui" class="md-nav__link">
    <span class="md-ellipsis">
      13. CMake can be launched with GUI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-cmake-has-ability-to-locate-installed-libraries-in-the-system" class="md-nav__link">
    <span class="md-ellipsis">
      14. CMake has ability to locate installed libraries in the system
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-cmake-allows-creating-static-shared-and-header-only-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      15. CMake allows creating static, shared and header-only libraries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-cmake-allows-codefiles-generation" class="md-nav__link">
    <span class="md-ellipsis">
      16. CMake allows code/files generation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-cmake-allows-generation-of-doxygen-docs-without-the-hardcoded-config" class="md-nav__link">
    <span class="md-ellipsis">
      17. CMake allows generation of Doxygen docs without the hardcoded config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-cmake-automatically-detects-required-compiler-for-the-given-file" class="md-nav__link">
    <span class="md-ellipsis">
      18. CMake automatically detects required compiler for the given file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-cmake-can-create-dependency-graph" class="md-nav__link">
    <span class="md-ellipsis">
      19. CMake can create dependency graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../" class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
                  <span class="md-ellipsis">
                    Back to index
                  </span>
                </a>
              </div>
            </div>
            
              <div class="md-post__authors md-typeset">
                
                  <div class="md-profile md-post__profile">
                    <span class="md-author md-author--long">
                      <img src="https://github.com/kubasejdak.png" alt="Kuba Sejdak">
                    </span>
                    <span class="md-profile__description">
                      <strong>
                        
                          Kuba Sejdak
                        
                      </strong>
                      <br>
                      Software Architect
                    </span>
                  </div>
                
              </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    Metadata
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg>
                        <time datetime="2019-12-09 00:00:00+00:00" class="md-ellipsis">December 9, 2019</time>
                      </div>
                    </li>
                    
                    
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg>
                          <span class="md-ellipsis">
                            in
                            
                              <a href="../category/tools/">Tools</a></span>
                        </div>
                      </li>
                    
                    
                      
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg>
                          <span class="md-ellipsis">
                            
                              12 min read
                            
                          </span>
                        </div>
                      </li>
                    
                  </ul>
                </nav>
              </li>
            </ul>
            
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        
  


  <nav class="md-tags" >
    
      
      
      
        <a href="../../tags/#tag:cmake" class="md-tag">CMake</a>
      
    
  </nav>



<h1 id="19-reasons-why-cmake-is-actually-awesome">19 reasons why CMake is actually awesome<a class="headerlink" href="#19-reasons-why-cmake-is-actually-awesome" title="Permanent link">&para;</a></h1>
<p>Topic of CMake is extremely controversial in the C/C++ community. People say that it is hard to properly set the include
paths, that syntax is archaic or that managing dependencies is a nightmare. Expressing public hate for CMake has become
a way of integrating with other software developers on the Internet.</p>
<p>And I partially understand that statements. Before CMake 3.x (aka Modern CMake) we were forced to use
<code>include_directories()</code> or manually set installation paths for libraries, that were not supported by default in CMake.
Syntax was a bit oldish and managing the compilation flags usually lead to headaches.</p>
<p>But since CMake 3.x (released on 06.2014) we have way more flexible and elegant ways of creating build systems with
CMake. Almost all cons are gone in favor of the new modern solutions. The only problem is that once a bad impression was
made, it is really hard to change it. After all, who would like to invest in studying new features and best practices of
a build system?! Well I do, and let me share with you 19 reasons, why CMake is actually awesome and you should give it a
try again.</p>
<!-- more -->

<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For someone who is completely new to the topic: CMake is a build system generator, that creates build system files
for common frameworks and IDE’s from a generic scripting language.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Disclaimer</p>
<p>This article aims to give a brief overview of CMake capabilities without going deep into technical details. Consult
the <a href="https://cmake.org/cmake/help/latest/index.html">official CMake docs</a> for more details.</p>
</div>
<h2 id="1-cmake-is-cross-platform">1. CMake is cross-platform<a class="headerlink" href="#1-cmake-is-cross-platform" title="Permanent link">&para;</a></h2>
<p>This one should be obvious since CMake has been cross-platform from the beginning. Currently it can run on all major
platforms:</p>
<ul>
<li>Windows,</li>
<li>Linux,</li>
<li>MacOS.</li>
</ul>
<p>It means, that we can build projects which use CMake on all above platforms without additional platform-specific
configurations. No need to write Makefiles, configure Visual Studio projects, create custom Bash or batch files.
Everything is handled by CMake. Note, that I say “build on”, not “build for”. There is a clear separation between build
host and build target. Of course case when host and target is the same is assumed by default.</p>
<h2 id="2-cmake-supports-multiple-ides-and-build-frameworks">2. CMake supports multiple IDE’s and build frameworks<a class="headerlink" href="#2-cmake-supports-multiple-ides-and-build-frameworks" title="Permanent link">&para;</a></h2>
<p>CMake is a build system generator (meta build system), which means that it creates configuration files for other
existing build systems. List of available options is dependent on the build host, which is natural (usually there is no
need to generate Visual Studio projects on Linux).</p>
<p>Below you can find a complete list (as for publication date) of all supported frameworks (CMake is calling them
generators):</p>
<ul>
<li>Borland Makefiles,</li>
<li>MSYS Makefiles,</li>
<li>MinGW Makefiles,</li>
<li>NMake Makefiles,</li>
<li>NMake Makefiles JOM,</li>
<li>Unix Makefiles,</li>
<li>Watcom WMake,</li>
<li>Ninja,</li>
<li>Visual Studio 6,</li>
<li>Visual Studio 7,</li>
<li>Visual Studio 7 .NET 2003,</li>
<li>Visual Studio 8 2005,</li>
<li>Visual Studio 9 2008,</li>
<li>Visual Studio 10 2010,</li>
<li>Visual Studio 11 2012,</li>
<li>Visual Studio 12 2013,</li>
<li>Visual Studio 14 2015,</li>
<li>Visual Studio 15 2017,</li>
<li>Visual Studio 16 2019,</li>
<li>Green Hills MULTI,</li>
<li>Xcode,</li>
<li>CodeBlocks,</li>
<li>CodeLite,</li>
<li>Eclipse CDT4,</li>
<li>Kate,</li>
<li>Sublime Text 2.</li>
</ul>
<p>Only by using different command line option you can target either MacOS XCode or Windows Visual Studio. Quite
impressive, wouldn’t you say?</p>
<ol>
<li>
<p>CMake supports native shell commands/apps execution Despite being OS-independent, CMake still gives you ability to
execute custom host-specific shell commands or launch given application with the following commands:</p>
</li>
<li>
<p><code>execute_process()</code>,</p>
</li>
<li><code>add_custom_command()</code>.</li>
</ol>
<p>However, this is not a good practice because it makes our build system tightly coupled with the concrete platform (which
is in contrary to the purpose of CMake).</p>
<h2 id="4-cmake-allows-easy-external-project-download-and-incorporation">4. CMake allows easy external project download and incorporation<a class="headerlink" href="#4-cmake-allows-easy-external-project-download-and-incorporation" title="Permanent link">&para;</a></h2>
<p>In some cases we are forced to use some external projects from the remote location (e.g. Internet) or simply from
another local repository/disk directory. CMake has two integrated mechanisms for supporting that:</p>
<ul>
<li><code>FetchContent()</code>,</li>
<li><code>ExternalProject_Add()</code>.</li>
</ul>
<p>Both commands are almost identical except for one crucial difference: <code>FetchContent</code> is launched during the generation
time (when you call cmake) and <code>ExternalProject_Add</code> is launched during build time (e.g. when you call make).</p>
<p>Its usage is straightforward – you have to specify Git/SVN/file/other location and optional parameters (e.g. repository
branch) and CMake will automatically download and optionally build that project for you.</p>
<p>Here you have an example of downloading <code>libfmt</code> project from GitHub using <code>v11.0.2</code> tag:</p>
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span>
<span class="normal"><a href="#__codelineno-0-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">include</span><span class="p">(</span><span class="s">FetchContent</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nb">FetchContent_Declare</span><span class="p">(</span><span class="s">fmt</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="s">GIT_REPOSITORY</span><span class="w"> </span><span class="s">https://github.com/fmtlib/fmt.git</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">    </span><span class="s">GIT_TAG</span><span class="w">        </span><span class="s">v11.0.2</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">    </span><span class="s">SYSTEM</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="p">)</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="nb">FetchContent_MakeAvailable</span><span class="p">(</span><span class="s">fmt</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>After that, you have <code>libfmt</code> downloaded in your build directory and added to the project. Now you can treat that it
like normal source path (in particular link with any targets defined by <code>libfmt</code> repo).</p>
<h2 id="5-cmake-supports-cross-compilation-like-a-champ">5. CMake supports cross-compilation like a champ<a class="headerlink" href="#5-cmake-supports-cross-compilation-like-a-champ" title="Permanent link">&para;</a></h2>
<p>Cross-compilation (building for platform other than you use for compilation) has always scared me. A task nearly
impossible to do manually in a cross-platform manner.</p>
<p>CMake has this ability built-in and requires very little effort to make it work for you. All you need to do is to
provide the so called toolchain file. It is a normal CMake file, except it doesn’t require its name to be
<code>CMakeLists.txt</code> (actually I would prefer it to be called <code>&lt;toolchain_name&gt;.cmake</code>). Below you can see an example
toolchain file for arm-none-eabi-gcc toolchain (<code>arm-none-eabi-gcc.cmake</code>):</p>
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span>
<span class="normal"><a href="#__codelineno-1-27">27</a></span>
<span class="normal"><a href="#__codelineno-1-28">28</a></span>
<span class="normal"><a href="#__codelineno-1-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_SYSTEM_NAME</span><span class="w">               </span><span class="s">Generic</span><span class="p">)</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_SYSTEM_PROCESSOR</span><span class="w">          </span><span class="s">arm</span><span class="p">)</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="c"># Without that flag CMake is not able to pass test compilation check</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_TRY_COMPILE_TARGET_TYPE</span><span class="w">   </span><span class="s">STATIC_LIBRARY</span><span class="p">)</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_AR</span><span class="w">                        </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-ar</span><span class="p">)</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_ASM_COMPILER</span><span class="w">              </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-gcc</span><span class="p">)</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_COMPILER</span><span class="w">                </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-gcc</span><span class="p">)</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_COMPILER</span><span class="w">              </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-g++</span><span class="p">)</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_LINKER</span><span class="w">                    </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-ld</span><span class="p">)</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_OBJCOPY</span><span class="w">                   </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-objcopy</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_RANLIB</span><span class="w">                    </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-ranlib</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_SIZE</span><span class="w">                      </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-size</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_STRIP</span><span class="w">                     </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-strip</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_GCOV</span><span class="w">                      </span><span class="o">${</span><span class="nv">BAREMETAL_ARM_TOOLCHAIN_PATH</span><span class="o">}</span><span class="s">/bin/arm-none-eabi-gcov</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17"></a>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="nb">set</span><span class="p">(</span><span class="s">COMMON_FLAGS</span><span class="w">                    </span><span class="s2">&quot;-Wno-psabi --specs=nosys.specs -fdata-sections -ffunction-sections -Wl,--gc-sections&quot;</span><span class="p">)</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_FLAGS</span><span class="w">                   </span><span class="s2">&quot;${COMMON_FLAGS} ${APP_C_FLAGS} &quot;</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_FLAGS</span><span class="w">                 </span><span class="s2">&quot;${COMMON_FLAGS} -fno-exceptions ${APP_CXX_FLAGS}&quot;</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21"></a>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_FLAGS_DEBUG</span><span class="w">             </span><span class="s2">&quot;-Os -g&quot;</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_FLAGS_RELEASE</span><span class="w">           </span><span class="s2">&quot;-Os -DNDEBUG&quot;</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_FLAGS_DEBUG</span><span class="w">           </span><span class="s2">&quot;${CMAKE_C_FLAGS_DEBUG}&quot;</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_FLAGS_RELEASE</span><span class="w">         </span><span class="s2">&quot;${CMAKE_C_FLAGS_RELEASE}&quot;</span><span class="w"> </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26"></a>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_FIND_ROOT_PATH_MODE_PROGRAM</span><span class="w"> </span><span class="s">NEVER</span><span class="p">)</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_FIND_ROOT_PATH_MODE_LIBRARY</span><span class="w"> </span><span class="s">ONLY</span><span class="p">)</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_FIND_ROOT_PATH_MODE_INCLUDE</span><span class="w"> </span><span class="s">ONLY</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>As you can see, this file only sets paths to several tools from the toolchain and sets common compilation flags
(specific for that compiler).</p>
<p>In order to tell CMake to use this configuration you have to set the <code>CMAKE_TOOLCHAIN_FILE</code> variable before the call to
<code>project()</code> function. So you can either set it as a command line argument:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>cmake<span class="w"> </span>&lt;PATH_TO_SOURCES&gt;<span class="w"> </span>-DCMAKE_TOOLCHAIN_FILE<span class="o">=</span>&lt;PATH_TO_TOOLCHAIN_FILE&gt;
</span></code></pre></div>
<p>or as a normal variable in the root <code>CMakeLists.txt</code>:</p>
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span>
<span class="normal"><a href="#__codelineno-3-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.15</span><span class="p">)</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_TOOLCHAIN_FILE</span><span class="w"> </span><span class="s">&lt;PATH_TO_TOOLCHAIN_FILE&gt;</span><span class="p">)</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="nb">project</span><span class="p">(</span><span class="s">&lt;PROJECT_NAME&gt;</span><span class="w"> </span><span class="s">...</span><span class="p">)</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6"></a>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="err">...</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="6-cmake-makes-it-easy-to-handle-include-paths">6. CMake makes it easy to handle include paths<a class="headerlink" href="#6-cmake-makes-it-easy-to-handle-include-paths" title="Permanent link">&para;</a></h2>
<p>Before CMake 3.x when you wanted to set the include paths for the current directory and everything below you had to
write:</p>
<div class="language-cmake highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">include_directories</span><span class="p">(</span><span class="s">&lt;PATH_TO_INCLUDES&gt;</span><span class="p">)</span>
</span></code></pre></div>
<p>This is bad! Don’t do that unless you know what you are doing. This is an anti-pattern of software architecture. In
order to get the includes from another library you had to know its internal structure (to include the proper sets of
paths). And what if that library is changed? You have to adjust every time. Nightmare!</p>
<p>Wouldn’t it be nice if that library provided you with everything you need with one statement? Since modern CMake (3.x+)
it is possible! Library author can utilize the fact, that when you “link” with that library via <code>target_link_libraries</code>
(quite unfortunate name: <a href="../modern-cmake-is-like-inheritance/">read this for a reason why</a>) you “inherit” all its public properties. And the
include paths are the property of the library. They can set via <code>target_include_directories</code> function.</p>
<p>So in other words, the library sets its include paths as its “include” property and when you link with it you
automatically get them. No need to write anything manually. Also the internal structure of the library is completely
hidden:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06M3.28 7.78 1.81 9.25l1.47 1.47a.75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042m8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914z"/></svg></span> <code>CMakeLists.txt</code> for library A</label><label for="__tabbed_1_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06M3.28 7.78 1.81 9.25l1.47 1.47a.75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042m8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914z"/></svg></span> <code>CMakeLists.txt</code> for library B</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="nb">add_library</span><span class="p">(</span><span class="s">A</span><span class="w"> </span><span class="s">&lt;LIBRARY_A_SOURCES&gt;</span><span class="p">)</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="nb">target_include_directories</span><span class="p">(</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="s">PUBLIC</span><span class="w"> </span><span class="s">liba/include</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="nb">add_library</span><span class="p">(</span><span class="s">B</span><span class="w"> </span><span class="s">&lt;LIBRARY_B_SOURCES&gt;</span><span class="p">)</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">B</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">    </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">A</span><span class="w">             </span><span class="c"># Here we automatically get the liba/include includes.</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>PUBLIC</code>, <code>PRIVATE</code> and <code>INTERFACE</code> specifiers are explained in <a href="../modern-cmake-is-like-inheritance/">this</a> article.</p>
</div>
<h2 id="7-cmake-makes-it-easy-to-handle-compilation-linking-and-preprocessor-flags">7. CMake makes it easy to handle compilation, linking and preprocessor flags<a class="headerlink" href="#7-cmake-makes-it-easy-to-handle-compilation-linking-and-preprocessor-flags" title="Permanent link">&para;</a></h2>
<p>This paragraph is similar to the previous one. All the problems with the include paths are valid also for compilation,
linking and preprocessor flags. And we also want other libraries to provide all necessary flags to use them. CMake
allows that with the following functions:</p>
<ul>
<li><code>target_compile_definitions(&lt;PREPROCESSOR_FLAGS&gt;)</code>,</li>
<li><code>target_compile_options(&lt;COMPILATION_FLAGS&gt;)</code>,</li>
<li><code>target_link_options(&lt;LINKER_FLAGS&gt;)</code>.</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06M3.28 7.78 1.81 9.25l1.47 1.47a.75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042m8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914z"/></svg></span> <code>CMakeLists.txt</code> for library A</label><label for="__tabbed_2_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06M3.28 7.78 1.81 9.25l1.47 1.47a.75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042m8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914z"/></svg></span> <code>CMakeLists.txt</code> for library B</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="nb">add_library</span><span class="p">(</span><span class="s">A</span><span class="w"> </span><span class="s">&lt;LIBRARY_A_SOURCES&gt;</span><span class="p">)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="nb">target_compile_definitions</span><span class="p">(</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">    </span><span class="s">PUBLIC</span><span class="w"> </span><span class="s">-DUSE_TIMER</span><span class="w"> </span><span class="s">-DNO_EXCEPTIONS</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="p">)</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="nb">target_compile_options</span><span class="p">(</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">    </span><span class="s">PUBLIC</span><span class="w"> </span><span class="s">—std=c++17</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="p">)</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10"></a>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="nb">target_link_options</span><span class="p">(</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">    </span><span class="s">PUBLIC</span><span class="w"> </span><span class="s">-T</span><span class="w"> </span><span class="s">linker_script.ld</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="nb">add_library</span><span class="p">(</span><span class="s">B</span><span class="w"> </span><span class="s">&lt;LIBRARY_B_SOURCES&gt;</span><span class="p">)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">B</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">    </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">A</span><span class="w">             </span><span class="c"># Here we automatically get the -DUSE_TIMER -DNO_EXCEPTIONS —std=c++17 -T linker_script.ld flags.</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h2 id="8-cmake-is-supported-by-all-major-c-package-managers">8. CMake is supported by all major C++ package managers<a class="headerlink" href="#8-cmake-is-supported-by-all-major-c-package-managers" title="Permanent link">&para;</a></h2>
<p>There are 3 major package managers for C++:</p>
<ul>
<li><a href="https://conan.io/">Conan</a>,</li>
<li><a href="https://github.com/microsoft/vcpkg">vcpkg</a>,</li>
<li><a href="https://hunter.readthedocs.io/en/latest/">Hunter</a>.</li>
</ul>
<p>All of them have built-in native support for CMake. This article is already too long to show examples for each manager,
so you have to trust me on this. Each of them is easy to use and doesn’t make a mess in your carefully crafted
<code>CMakeLists.txt</code> files.</p>
<h2 id="9-cmake-is-backward-compatible">9. CMake is backward compatible<a class="headerlink" href="#9-cmake-is-backward-compatible" title="Permanent link">&para;</a></h2>
<p>CMake is an actively developed project and new versions are released quite often. Some of them add new features and some
slightly modify existing ones. Within the development team, people may be using different operating systems and
different versions of that systems. It is very likely that there will be at least few different versions of CMake in use
among project members. This could get messy if someone uses feature that is not available for everyone. Also bugs in
CMake may be different for everyone.</p>
<p>In order to tame the chaos CMake introduced policies, which strictly define how particular CMake feature should behave.
Every CMake version has a set of its default policies and is able to load those sets for every previous version. So for
example despite having CMake 3.15 we can enforce the binary to behave like version 3.7.</p>
<p>We can do that by specifying the following statement:</p>
<div class="language-cmake highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">&lt;CMAKE_VERSION_TO_BE_USED&gt;</span><span class="p">)</span>
</span></code></pre></div>
<p>It is mandatory to set CMake version in the at the beginning of the root <code>CMakeLists.txt</code>, but we can change that later
in any place (however I strongly advice against that!).</p>
<h2 id="10-cmake-is-supported-by-many-ides">10. CMake is supported by many IDEs<a class="headerlink" href="#10-cmake-is-supported-by-many-ides" title="Permanent link">&para;</a></h2>
<p>By this I mean, that many IDEs can use existing CMakeLists.txt directly as a project file. All you have to do is point
to the root CMakeLists.txt.</p>
<p>Here is a list of the most popular ones:</p>
<ul>
<li><a href="https://www.jetbrains.com/clion/">CLion</a>,</li>
<li><a href="https://code.visualstudio.com/">Visual Studio Code</a>,</li>
<li><a href="https://www.qt.io/download">QtCreator</a>,</li>
<li><a href="https://visualstudio.microsoft.com/">Visual Studio</a>,</li>
<li><a href="https://netbeans.apache.org/">NetBeans</a>,</li>
<li><a href="https://kdevelop.org/">KDevelop</a>.</li>
</ul>
<h2 id="11-cmake-allows-basic-file-manipulation">11. CMake allows basic file manipulation<a class="headerlink" href="#11-cmake-allows-basic-file-manipulation" title="Permanent link">&para;</a></h2>
<p>Sometimes during configure or build time we need to interact with our filesystem. It usually is a simple operation like
reading contents of the file (e.g. containing compilation flags) or copying (e.g. from resource directory to the build
directory).</p>
<p>CMake offers basic file manipulation functions, just like in the system console. Below you can find an extract from the
<a href="https://cmake.org/cmake/help/latest/command/file.html">official CMake file commands documentation</a>:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span>
<span class="normal"><a href="#__codelineno-10-12">12</a></span>
<span class="normal"><a href="#__codelineno-10-13">13</a></span>
<span class="normal"><a href="#__codelineno-10-14">14</a></span>
<span class="normal"><a href="#__codelineno-10-15">15</a></span>
<span class="normal"><a href="#__codelineno-10-16">16</a></span>
<span class="normal"><a href="#__codelineno-10-17">17</a></span>
<span class="normal"><a href="#__codelineno-10-18">18</a></span>
<span class="normal"><a href="#__codelineno-10-19">19</a></span>
<span class="normal"><a href="#__codelineno-10-20">20</a></span>
<span class="normal"><a href="#__codelineno-10-21">21</a></span>
<span class="normal"><a href="#__codelineno-10-22">22</a></span>
<span class="normal"><a href="#__codelineno-10-23">23</a></span>
<span class="normal"><a href="#__codelineno-10-24">24</a></span>
<span class="normal"><a href="#__codelineno-10-25">25</a></span>
<span class="normal"><a href="#__codelineno-10-26">26</a></span>
<span class="normal"><a href="#__codelineno-10-27">27</a></span>
<span class="normal"><a href="#__codelineno-10-28">28</a></span>
<span class="normal"><a href="#__codelineno-10-29">29</a></span>
<span class="normal"><a href="#__codelineno-10-30">30</a></span>
<span class="normal"><a href="#__codelineno-10-31">31</a></span>
<span class="normal"><a href="#__codelineno-10-32">32</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a>Reading
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2"></a>  file(READ &lt;filename&gt; &lt;out-var&gt; [...])
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3"></a>  file(STRINGS &lt;filename&gt; &lt;out-var&gt; [...])
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4"></a>  file(&lt;HASH&gt; &lt;filename&gt; &lt;out-var&gt;)
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5"></a>  file(TIMESTAMP &lt;filename&gt; &lt;out-var&gt; [...])
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6"></a>  file(GET_RUNTIME_DEPENDENCIES [...])
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7"></a>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8"></a>Writing
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9"></a>  file({WRITE | APPEND} &lt;filename&gt; &lt;content&gt;...)
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10"></a>  file({TOUCH | TOUCH_NOCREATE} [&lt;file&gt;...])
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11"></a>  file(GENERATE OUTPUT &lt;output-file&gt; [...])
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12"></a>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13"></a>Filesystem
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14"></a>  file({GLOB | GLOB_RECURSE} &lt;out-var&gt; [...] [&lt;globbing-expr&gt;...])
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15"></a>  file(RENAME &lt;oldname&gt; &lt;newname&gt;)
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16"></a>  file({REMOVE | REMOVE_RECURSE } [&lt;files&gt;...])
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17"></a>  file(MAKE_DIRECTORY [&lt;dir&gt;...])
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18"></a>  file({COPY | INSTALL} &lt;file&gt;... DESTINATION &lt;dir&gt; [...])
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19"></a>  file(SIZE &lt;filename&gt; &lt;out-var&gt;)
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20"></a>  file(READ_SYMLINK &lt;linkname&gt; &lt;out-var&gt;)
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21"></a>  file(CREATE_LINK &lt;original&gt; &lt;linkname&gt; [...])
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22"></a>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23"></a>Path Conversion
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24"></a>  file(RELATIVE_PATH &lt;out-var&gt; &lt;directory&gt; &lt;file&gt;)
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25"></a>  file({TO_CMAKE_PATH | TO_NATIVE_PATH} &lt;path&gt; &lt;out-var&gt;)
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26"></a>
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27"></a>Transfer
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28"></a>  file(DOWNLOAD &lt;url&gt; &lt;file&gt; [...])
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29"></a>  file(UPLOAD &lt;file&gt; &lt;url&gt; [...])
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30"></a>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31"></a>Locking
</span><span id="__span-10-32"><a id="__codelineno-10-32" name="__codelineno-10-32"></a>  file(LOCK &lt;path&gt; [...])
</span></code></pre></div></td></tr></table></div>
<p>All of of this in a cross-platform manner.</p>
<h2 id="12-cmake-offers-similar-functionality-as-system-shell">12. CMake offers similar functionality as system shell<a class="headerlink" href="#12-cmake-offers-similar-functionality-as-system-shell" title="Permanent link">&para;</a></h2>
<p>Most of the operations that you would like to perform on variables in Bash or any other shell along with basic flow
control and code organization can be done in CMake as well. We are talking here about:</p>
<ul>
<li>setting/getting value of the variable,</li>
<li>loops,</li>
<li>functions and macros,</li>
<li>lists manipulation,</li>
<li>conditional branches (<code>if</code>/<code>else if</code>/<code>else</code>),</li>
<li>setting/unsetting environmental variables,</li>
<li>and much more.</li>
</ul>
<h2 id="13-cmake-can-be-launched-with-gui">13. CMake can be launched with GUI<a class="headerlink" href="#13-cmake-can-be-launched-with-gui" title="Permanent link">&para;</a></h2>
<p>Yes, CMake comes with a full-featured GUI (however it may require installation of an additional package). Consult the
<a href="https://cmake.org/cmake/help/latest/manual/cmake-gui.1.html">official CMake GUI docs</a>.</p>
<h2 id="14-cmake-has-ability-to-locate-installed-libraries-in-the-system">14. CMake has ability to locate installed libraries in the system<a class="headerlink" href="#14-cmake-has-ability-to-locate-installed-libraries-in-the-system" title="Permanent link">&para;</a></h2>
<p>Dependency management can be really painful when it comes to handling external libraries. Especially, if we have to rely
on their presence in the system. Each OS or even package can have a different default installation path.</p>
<p>CMake has a built-in function to locate a predefined set of packages by name and automatically set variables with
include paths, sources or even expose whole “modern” target which has it all set as properties:</p>
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span>
<span class="normal"><a href="#__codelineno-11-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="nb">find_package</span><span class="p">(</span><span class="s">Boost</span><span class="w"> </span><span class="s">1.56</span><span class="w"> </span><span class="s">REQUIRED</span><span class="w"> </span><span class="s">COMPONENTS</span><span class="w"> </span><span class="s">date_time</span><span class="w"> </span><span class="s">filesystem</span><span class="w"> </span><span class="s">iostreams</span><span class="p">)</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2"></a>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="nb">add_executable</span><span class="p">(</span><span class="s">foo</span><span class="w"> </span><span class="s">foo.cpp</span><span class="p">)</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4"></a>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">foo</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">Boost::date_time</span><span class="w"> </span><span class="s">Boost::filesystem</span><span class="w"> </span><span class="s">Boost::iostreams</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>The list of supported libraries is too long (as of CMake 3.16) to put it here, but feel free to check it in the
<a href="https://cmake.org/cmake/help/latest/manual/cmake-modules.7.html#find-modules">official docs</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also specify an additional location with your own packages finder files.</p>
</div>
<h2 id="15-cmake-allows-creating-static-shared-and-header-only-libraries">15. CMake allows creating static, shared and header-only libraries<a class="headerlink" href="#15-cmake-allows-creating-static-shared-and-header-only-libraries" title="Permanent link">&para;</a></h2>
<p>You can explicitly tell CMake to create a static (default) or shared library by adding an extra parameter to
<code>add_library</code>:</p>
<div class="language-cmake highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nb">add_library</span><span class="p">(</span><span class="s">&lt;NAME&gt;</span><span class="w"> </span><span class="s">[SHARED</span><span class="w"> </span><span class="s">|</span><span class="w"> </span><span class="s">STATIC]</span><span class="w"> </span><span class="s">&lt;SOURCES&gt;</span><span class="p">)</span>
</span></code></pre></div>
<p>Header-only libraries are a bit less obvious to create, but still quite easy. All you need to do is to:</p>
<ul>
<li>specify that given library is an interface (no binary is produced): <code>add_library(&lt;NAME&gt; INTERFACE)</code>,</li>
<li>set its interface include path to the location of your headers: <code>target_include_directories(&lt;NAME&gt; INTERFACE .)</code>.</li>
</ul>
<h2 id="16-cmake-allows-codefiles-generation">16. CMake allows code/files generation<a class="headerlink" href="#16-cmake-allows-codefiles-generation" title="Permanent link">&para;</a></h2>
<p>Sometimes we want to add some compile-time information to our sources, that will be automatically computed or generated.
An excellent example would be a string with the project version.</p>
<p>One way of having that would be to change manually this value directly in the header. And it is OK. But what if this
value has to be used in multiple contexts, some of which are not inside the source code? For example in documentation,
in some build artifact etc. You may also want to extract this value from git tag. What then?</p>
<p>Fortunately CMake has a generic way of creating new files from a predefined template. All you need to do is to create a
file that you want to be generated and replace all its “variable” parts with the CMake variable notation.</p>
<p>Then you can call <code>configure_file()</code> command and CMake will create a copy of that template and replace all “variable”
parts with the corresponding values, known at that time. Here is an example with version string (there is a common
notation, where templates have the <code>.in</code> suffix):</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06M3.28 7.78 1.81 9.25l1.47 1.47a.75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042m8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914z"/></svg></span> <code>version.h.in</code></label><label for="__tabbed_3_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06M3.28 7.78 1.81 9.25l1.47 1.47a.75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042m8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914z"/></svg></span> <code>CMakeLists.txt</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-cpp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="cp">#pragma once </span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2"></a>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">cVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;@MY_VERSION@&quot;</span><span class="p">;</span><span class="w"> </span>
</span></code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="nb">set</span><span class="p">(</span><span class="s">MY_VERSION</span><span class="w"> </span><span class="s2">&quot;1.0.5b&quot;</span><span class="p">)</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2"></a>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="nb">configure_file</span><span class="p">(</span><span class="s">version.h.in</span><span class="w"> </span><span class="o">${</span><span class="nv">CMAKE_CURRENT_SOURCE_DIR</span><span class="o">}</span><span class="s">/version.h</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p>This configuration will produce after “generation” step the following file:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:1"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06M3.28 7.78 1.81 9.25l1.47 1.47a.75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042m8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914z"/></svg></span> <code>version.h</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-cpp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="cp">#pragma once </span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2"></a>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">cVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1.0.5b&quot;</span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h2 id="17-cmake-allows-generation-of-doxygen-docs-without-the-hardcoded-config">17. CMake allows generation of Doxygen docs without the hardcoded config<a class="headerlink" href="#17-cmake-allows-generation-of-doxygen-docs-without-the-hardcoded-config" title="Permanent link">&para;</a></h2>
<p>For some people it would be beneficial to be able to modify Doxygen configuration at build time or even completely
remove it.</p>
<p>CMake has a built-in function, that can add a Doxygen generation target to you build. You can also modify all settings
typically found in Doxygen config by setting CMake variables with the <code>DOXYGEN_</code> prefix.</p>
<p>Here is an example:</p>
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span>
<span class="normal"><a href="#__codelineno-16-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="nb">find_package</span><span class="p">(</span><span class="s">Doxygen</span><span class="p">)</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="nb">if</span><span class="w"> </span><span class="p">(</span><span class="s">DOXYGEN_FOUND</span><span class="p">)</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w">    </span><span class="nb">set</span><span class="p">(</span><span class="s">DOXYGEN_OUTPUT_DIRECTORY</span><span class="w">        </span><span class="o">${</span><span class="nv">CMAKE_BINARY_DIR</span><span class="o">}</span><span class="s">/docs</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">    </span><span class="nb">set</span><span class="p">(</span><span class="s">DOXYGEN_GENERATE_LATEX</span><span class="w">          </span><span class="s">NO</span><span class="p">)</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="w">    </span><span class="nb">set</span><span class="p">(</span><span class="s">DOXYGEN_EXTRACT_PRIVATE</span><span class="w">         </span><span class="s">YES</span><span class="p">)</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="w">    </span><span class="nb">set</span><span class="p">(</span><span class="s">DOXYGEN_EXTRACT_PACKAGE</span><span class="w">         </span><span class="s">YES</span><span class="p">)</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="w">    </span><span class="nb">set</span><span class="p">(</span><span class="s">DOXYGEN_EXTRACT_STATIC</span><span class="w">          </span><span class="s">YES</span><span class="p">)</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="w">    </span><span class="nb">set</span><span class="p">(</span><span class="s">DOXYGEN_WARN_NO_PARAMDOC</span><span class="w">        </span><span class="s">YES</span><span class="p">)</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="w">    </span><span class="nb">set</span><span class="p">(</span><span class="s">DOXYGEN_HTML_OUTPUT</span><span class="w">             </span><span class="s">.</span><span class="p">)</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="w">    </span><span class="nb">set</span><span class="p">(</span><span class="s">DOXYGEN_USE_MDFILE_AS_MAINPAGE</span><span class="w">  </span><span class="s">README.md</span><span class="p">)</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11"></a><span class="w">    </span><span class="nb">set</span><span class="p">(</span><span class="s">DOXYGEN_FILE_PATTERNS</span><span class="w">           </span><span class="s">*.c</span><span class="w"> </span><span class="s">*.cc</span><span class="w"> </span><span class="s">*.cxx</span><span class="w"> </span><span class="s">*.cpp</span><span class="w"> </span><span class="s">*.c++</span><span class="w"> </span><span class="s">*.ii</span><span class="w"> </span><span class="s">*.ixx</span><span class="w"> </span><span class="s">*.ipp</span><span class="w"> </span><span class="s">*.i++</span><span class="w"> </span><span class="s">*.inl</span><span class="w"> </span><span class="s">*.h</span><span class="w"> </span><span class="s">*.hh</span><span class="w"> </span><span class="s">*.hxx</span><span class="w"> </span><span class="s">*.hpp</span><span class="w"> </span><span class="s">*.h++</span><span class="w"> </span><span class="s">*.inc</span><span class="w"> </span><span class="s">README.md</span><span class="p">)</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12"></a>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13"></a><span class="w">    </span><span class="nb">doxygen_add_docs</span><span class="p">(</span><span class="s">doxygen</span><span class="w"> </span><span class="s">.</span><span class="w"> </span><span class="s">WORKING_DIRECTORY</span><span class="w"> </span><span class="o">${</span><span class="nv">PROJECT_SOURCE_DIR</span><span class="o">}</span><span class="p">)</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14"></a><span class="nb">endif</span><span class="w"> </span><span class="p">()</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="18-cmake-automatically-detects-required-compiler-for-the-given-file">18. CMake automatically detects required compiler for the given file<a class="headerlink" href="#18-cmake-automatically-detects-required-compiler-for-the-given-file" title="Permanent link">&para;</a></h2>
<p>You don’t have to create a separate source lists for different compilers (e.g. one for C, one for C++, one for ASM).
Once you enable given language in the <code>project()</code> command CMake will automatically use the correct tool basing on the
file extension.</p>
<p>Here is an example of an executable built from both C and C++ files. They are all defined as one list of sources:</p>
<div class="language-cmake highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span>
<span class="normal"><a href="#__codelineno-17-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.15</span><span class="p">)</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2"></a>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="nb">project</span><span class="p">(</span><span class="s">test</span><span class="w"> </span><span class="s">LANGUAGES</span><span class="w"> </span><span class="s">C</span><span class="w"> </span><span class="s">CXX</span><span class="p">)</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4"></a>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="nb">add_executable</span><span class="p">(</span><span class="s">testExec</span><span class="w"> </span><span class="s">main.cpp</span><span class="w"> </span><span class="s">moduleA.c</span><span class="w"> </span><span class="s">moduleB.cpp</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="19-cmake-can-create-dependency-graph">19. CMake can create dependency graph<a class="headerlink" href="#19-cmake-can-create-dependency-graph" title="Permanent link">&para;</a></h2>
<p>Software architects or technical leaders may be really interested in the dependencies between the project modules and
their nature (<code>PUBLIC</code>, <code>INTERFACE</code>, <code>PRIVATE</code>). CMake can help visualize that in a form of a <code>dot</code> graph, which can be
later converted into an image.</p>
<p>All you need to is to pass <code>—-graphviz=&lt;name&gt;.dot</code> parameter to the CMake command line and it will generate it in the
build directory with the given name:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>cmake<span class="w"> </span>&lt;PATH_TO_SOURCES&gt;<span class="w"> </span>--graphviz<span class="o">=</span>graph/test.dot
</span></code></pre></div>
<p>Here is an example graph (<code>graph/test.dot</code>):</p>
<p><img alt="Graphviz example" src="../../assets/graphviz-example.png" /></p>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>CMake is a powerful tool. It may have been hard to use in the past, but now with a bit of a good will it can really
empower you in managing even most complicated build systems. Give it a try and I know you won’t regret it.</p>
<!-- links -->







  
  




  



<h2 id="__comments">Comments</h2>
<script src="https://giscus.app/client.js" data-repo="kubasejdak/kubasejdak.github.io" data-repo-id="R_kgDONR24pg"
    data-category="General" data-category-id="DIC_kwDONR24ps4CkoOl" data-mapping="pathname" data-strict="0"
    data-reactions-enabled="1" data-emit-metadata="1" data-input-position="top" data-theme="preferred_color_scheme"
    data-lang="en" data-loading="lazy" crossorigin="anonymous" async>
    </script>

<!-- Synchronize Giscus theme with palette -->
<script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

        // Instruct Giscus to set theme
        giscus.setAttribute("data-theme", theme)
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate"
                    ? "transparent_dark"
                    : "light"

                // Instruct Giscus to change theme
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script>

      
    </article>
  </div>

          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
        
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../variadic-functions--part-3-techniques-of-variadic-templates/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Variadic functions – Part 3: Techniques of variadic templates">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Variadic functions – Part 3: Techniques of variadic templates
              </div>
            </div>
          </a>
        
        
          
          <a href="../modern-cmake-is-like-inheritance/" class="md-footer__link md-footer__link--next" aria-label="Next: Modern CMake is like inheritance">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Modern CMake is like inheritance
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/kubasejdak-org" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/kuba-sejdak-41b06165/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://bsky.app/profile/kubasejdak.bsky.social" target="_blank" rel="noopener" title="bsky.app" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2 42.1-31.6 110.3-56 110.3 21.8 0 15.5-8.9 130.5-14.1 149.2-18.2 64.8-84.4 81.4-143.3 71.3C456 322 482.2 380 425.6 438c-107.4 110.2-154.3-27.6-166.3-62.9-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8c-12 35.3-59 173.1-166.3 62.9-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1 10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"/></svg>
    </a>
  
    
    
    
    
    <a href="/feed_rss_created.xml" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64m0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0m32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.sections", "navigation.tabs", "navigation.top", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>
      
        <script src="../../js/drawio-reload.js"></script>
      
    
  </body>
</html>